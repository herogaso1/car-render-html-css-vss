const feautures = document.getElementById("features-list");
// Lấy dữ liệu từ API
async function getData() {
  try {
    const response = await fetch(
      "https://carrental-server.greatstack.in/api/user/cars"
    ); // Gửi yêu cầu GET
    if (!response.ok) throw new Error("Lỗi mạng hoặc API"); // Kiểm tra lỗi
    const data = await response.json(); // Chuyển phản hồi thành JSON
    console.log(data); // Xử lý dữ liệu
    const datacars = data.cars;
    console.log(datacars);
    renderCars(datacars);
  } catch (error) {
    console.error("Lỗi:", error.message); // Xử lý lỗi
  }
}
getData();

// tạo function render cars
function renderCars(datacars) {
  feautures.innerHTML = "";
  datacars.forEach((car) => {
    feautures.innerHTML += `
           <a href="car-details.html?id=${car._id}" class="car-card" data-aos="fade-up" data-aos-delay="200">
                <div class="car-img">
                    <span class="badge">Available Now</span>
                    <img src="${car.image}"
                        alt="${car.brand} ${car.model}">
                    <div class="price">
                        <span class="amount">${car.pricePerDay}</span>
                        <span class="day">/ day</span>
                    </div>
                </div>
                <div class="car-infor">
                    <h3>${car.brand} ${car.model}</h3>
                    <p>${car.category} · ${car.year}</p>
                </div>
                <div class="car-info">
                    <div class="detail-items">
                        <svg width='12' height='11' viewBox='0 0 12 11' fill='none' xmlns='http://www.w3.org/2000/svg'>
                            <path
                                d='M11 10V9C11 8.0681 10.3626 7.28505 9.5 7.063M7.75 1.14538C8.48295 1.44208 9 2.16066 9 3C9 3.83934 8.48295 4.55795 7.75 4.8546M8.5 10C8.5 9.0681 8.5 8.6022 8.34775 8.23465C8.14475 7.7446 7.7554 7.35525 7.26535 7.15225C6.8978 7 6.4319 7 5.5 7H4C3.06811 7 2.60218 7 2.23464 7.15225C1.74458 7.35525 1.35523 7.7446 1.15224 8.23465C1 8.6022 1 9.0681 1 10M6.75 3C6.75 4.10457 5.85455 5 4.75 5C3.64543 5 2.75 4.10457 2.75 3C2.75 1.89543 3.64543 1 4.75 1C5.85455 1 6.75 1.89543 6.75 3Z'
                                stroke='#4A5565' stroke-linecap='round' stroke-linejoin='round' />
                        </svg>
                        <span class="text">${car.seating_capacity} seats</span>
                    </div>
                    <div class="detail-items">
                        <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d='M3.57909 2.43671e-07H4.09526C4.73135 -9.05865e-06 5.24404 -1.83388e-05 5.64729 0.0541956C6.06594 0.110484 6.4184 0.230898 6.69839 0.510861C6.97835 0.790824 7.09876 1.14332 7.15504 1.56198C7.20923 1.96522 7.20923 2.47793 7.20923 3.11401V6.97674H7.59127C8.15089 6.97674 8.60456 7.43042 8.60456 7.99005V8.02326C8.60456 8.21591 8.76075 8.37209 8.95339 8.37209C9.14604 8.37209 9.30223 8.21591 9.30223 8.02326V6.18167L8.62247 5.95507C8.19512 5.81261 7.90689 5.4127 7.90689 4.96228V3.83721C7.90689 3.25924 8.37545 2.7907 8.95339 2.7907H9.29841C9.27576 2.52567 9.15288 2.27876 8.95428 2.1007C8.93409 2.08263 8.91107 2.06405 8.84391 2.01029L8.27038 1.55147C8.11992 1.43112 8.09554 1.2116 8.21587 1.06115C8.33624 0.910712 8.55577 0.886321 8.70619 1.00667L9.2872 1.4715C9.34413 1.51702 9.38339 1.54843 9.41995 1.5812C9.76371 1.88935 9.97124 2.32121 9.99715 2.78213C9.9999 2.83116 9.9999 2.88143 9.9999 2.9543V5.92209C10 5.92749 10 5.93288 9.9999 5.93828V8.02326C9.9999 8.60121 9.53134 9.06977 8.95339 9.06977C8.37545 9.06977 7.90689 8.60121 7.90689 8.02326V7.99005C7.90689 7.81572 7.76559 7.67442 7.59127 7.67442H7.20923V9.30233H7.3255C7.51815 9.30233 7.67434 9.45851 7.67434 9.65116C7.67434 9.84381 7.51815 10 7.3255 10H0.348834C0.15618 10 0 9.84381 0 9.65116C0 9.45851 0.15618 9.30233 0.348834 9.30233H0.465111V3.11401C0.465102 2.47793 0.465093 1.96522 0.519306 1.56198C0.575594 1.14332 0.696007 0.790824 0.975967 0.510861C1.25593 0.230898 1.60842 0.110484 2.02707 0.0541956C2.43031 -1.83388e-05 2.94301 -9.05865e-06 3.57909 2.43671e-07ZM1.16278 9.30233H6.51156V3.13954C6.51156 2.4719 6.51082 2.00627 6.46361 1.65494C6.4177 1.31365 6.33379 1.13292 6.20505 1.00419C6.07631 0.875465 5.89561 0.791535 5.55431 0.745651C5.20297 0.698414 4.73735 0.697675 4.06972 0.697675H3.60461C2.93698 0.697675 2.47136 0.698414 2.12003 0.745651C1.77874 0.791535 1.59802 0.875465 1.46929 1.00419C1.34057 1.13292 1.25664 1.31365 1.21075 1.65494C1.16352 2.00627 1.16278 2.4719 1.16278 3.13954V9.30233ZM9.30223 5.44623V3.48837H8.95339C8.76075 3.48837 8.60456 3.64455 8.60456 3.83721V4.96228C8.60456 5.11242 8.70065 5.24572 8.84307 5.29321L9.30223 5.44623ZM3.11869 1.86047C3.12561 1.86047 3.13254 1.86047 3.1395 1.86047H4.53484C4.54181 1.86047 4.54874 1.86047 4.55567 1.86047C4.75697 1.86044 4.94153 1.86042 5.09167 1.8806C5.25701 1.90283 5.43176 1.95514 5.57548 2.09887C5.71924 2.2426 5.77152 2.41735 5.79375 2.58269C5.81394 2.73284 5.81394 2.91741 5.81389 3.11873V3.16034C5.81394 3.36166 5.81394 3.54623 5.79375 3.69638C5.77152 3.86172 5.71924 4.03647 5.57548 4.18019C5.43176 4.32395 5.25701 4.37623 5.09167 4.39847C4.94153 4.41865 4.75697 4.41865 4.55563 4.41861C4.54874 4.41861 4.54181 4.41861 4.53484 4.41861H3.1395C3.13254 4.41861 3.12561 4.41861 3.11869 4.41861C2.91738 4.41865 2.73281 4.41865 2.58267 4.39847C2.41733 4.37623 2.24258 4.32395 2.09884 4.18019C1.95511 4.03647 1.90281 3.86172 1.88058 3.69638C1.8604 3.54623 1.86042 3.36166 1.86045 3.16035C1.86045 3.15343 1.86045 3.14649 1.86045 3.13954C1.86045 3.13258 1.86045 3.12564 1.86045 3.11872C1.86042 2.91741 1.8604 2.73284 1.88058 2.58269C1.90281 2.41735 1.95511 2.2426 2.09884 2.09887C2.24258 1.95514 2.41733 1.90283 2.58267 1.8806C2.73281 1.86042 2.91738 1.86044 3.11869 1.86047ZM2.5922 2.59217C2.59235 2.59205 2.59238 2.59199 2.5922 2.59217V2.59217ZM2.59331 2.59156L2.5922 2.59217L2.59154 2.59334C2.59107 2.59424 2.59031 2.59578 2.58935 2.59813C2.58518 2.60826 2.57807 2.63075 2.57203 2.67566C2.55885 2.77367 2.55811 2.91041 2.55811 3.13954C2.55811 3.36866 2.55885 3.5054 2.57203 3.60341C2.57807 3.64832 2.58518 3.67082 2.58935 3.68095C2.59031 3.68329 2.59107 3.68484 2.59154 3.68573L2.59218 3.68687L2.59331 3.68751C2.59421 3.68798 2.59575 3.68873 2.59809 3.68969C2.60822 3.69386 2.63072 3.70098 2.67563 3.70701C2.77364 3.72019 2.91038 3.72093 3.1395 3.72093H4.53484C4.76395 3.72093 4.90069 3.72019 4.99869 3.70701C5.04362 3.70098 5.06613 3.69386 5.07623 3.68969C5.0786 3.68873 5.08013 3.68798 5.08102 3.68751L5.08218 3.68687L5.08278 3.68573C5.08325 3.68484 5.08404 3.68329 5.08497 3.68095C5.08916 3.67082 5.09627 3.64832 5.10232 3.60341C5.11548 3.5054 5.11623 3.36866 5.11623 3.13954C5.11623 2.91041 5.11548 2.77367 5.10232 2.67566C5.09627 2.63075 5.08916 2.60826 5.08497 2.59813C5.08404 2.59578 5.08325 2.59424 5.08278 2.59334L5.08218 2.5922L5.08102 2.59156C5.08013 2.59109 5.0786 2.59034 5.07623 2.58938C5.06613 2.58521 5.04362 2.5781 4.99869 2.57206C4.90069 2.55888 4.76395 2.55814 4.53484 2.55814H3.1395C2.91038 2.55814 2.77364 2.55888 2.67563 2.57206C2.63072 2.5781 2.60822 2.58521 2.59809 2.58938C2.59575 2.59034 2.59421 2.59109 2.59331 2.59156ZM2.59218 3.68687C2.59199 3.68668 2.59205 3.68671 2.59218 3.68687V3.68687ZM5.08218 3.68687C5.08213 3.68687 5.08218 3.68687 5.08218 3.68687V3.68687ZM5.08218 3.68687C5.08213 3.68687 5.08218 3.68687 5.08218 3.68687V3.68687ZM2.32556 7.32558C2.32556 7.13293 2.48174 6.97674 2.67439 6.97674H4.99995C5.1926 6.97674 5.34878 7.13293 5.34878 7.32558C5.34878 7.51823 5.1926 7.67442 4.99995 7.67442H2.67439C2.48174 7.67442 2.32556 7.51823 2.32556 7.32558Z'
                                fill="#4A5565" />
                        </svg>
                        <span class="text">${car.fuel_type}</span>
                    </div>
                    <div class="detail-items">
                        <svg width='12' height='10' viewBox='0 0 12 10' fill='none' xmlns='http://www.w3.org/2000/svg'>
                            <path
                                d='M9.16875 3.25035C8.50367 2.16203 7.59638 1.2419 6.5175 0.561602C6.01909 0.245717 5.45093 0.0566427 4.86263 0.0108857C4.27432 -0.0348713 3.68376 0.0640806 3.1425 0.299102C2.66906 0.522416 2.2571 0.857616 1.94219 1.27576C1.62728 1.6939 1.41888 2.18241 1.335 2.6991C1.305 2.87535 1.2825 3.0441 1.26 3.2091C0.908904 3.26601 0.589454 3.44582 0.358662 3.71646C0.127869 3.98709 0.000753104 4.33092 0 4.6866V6.98535C0 7.18426 0.0790176 7.37503 0.21967 7.51568C0.360322 7.65633 0.551088 7.73535 0.75 7.73535V5.4366V4.6866C0.75 4.48769 0.829018 4.29692 0.96967 4.15627C1.11032 4.01562 1.30109 3.9366 1.5 3.9366H8.52375C9.24649 3.93759 9.93935 4.22514 10.4504 4.7362C10.9615 5.24725 11.249 5.94011 11.25 6.66285V6.9366H10.5C10.3416 6.55039 10.0466 6.23602 9.67121 6.05346C9.29582 5.87091 8.86636 5.83296 8.46478 5.94685C8.0632 6.06074 7.71761 6.3185 7.49395 6.67095C7.27029 7.02339 7.18423 7.44585 7.25219 7.8577C7.32014 8.26955 7.53736 8.64196 7.86238 8.90388C8.18741 9.16579 8.59749 9.29887 9.01437 9.27771C9.43126 9.25656 9.82576 9.08265 10.1226 8.78918C10.4194 8.49571 10.5978 8.10322 10.6237 7.6866H11.25C11.4489 7.6866 11.6397 7.60758 11.7803 7.46693C11.921 7.32628 12 7.13551 12 6.9366V6.66285C11.9985 5.85357 11.715 5.07013 11.1982 4.4473C10.6815 3.82448 9.96384 3.40122 9.16875 3.25035ZM3.375 3.1866H1.84875C1.84875 3.07035 1.8825 2.95035 1.905 2.8116C1.96979 2.39965 2.13887 2.01111 2.39616 1.68293C2.65346 1.35475 2.99041 1.09783 3.375 0.936602V3.1866ZM4.125 3.1866V0.779102C4.82511 0.688187 5.53513 0.841848 6.135 1.2141C6.9539 1.72417 7.66069 2.39523 8.2125 3.1866H4.125ZM8.925 8.5791C8.73958 8.5791 8.55832 8.52412 8.40415 8.4211C8.24998 8.31809 8.12982 8.17167 8.05886 8.00037C7.98791 7.82906 7.96934 7.64056 8.00551 7.4587C8.04169 7.27685 8.13098 7.1098 8.26209 6.97869C8.3932 6.84758 8.56025 6.75829 8.7421 6.72212C8.92396 6.68594 9.11246 6.70451 9.28377 6.77546C9.45507 6.84642 9.60149 6.96658 9.7045 7.12075C9.80752 7.27492 9.8625 7.45618 9.8625 7.6416C9.8625 7.89024 9.76373 8.1287 9.58791 8.30451C9.4121 8.48033 9.17364 8.5791 8.925 8.5791Z'
                                fill='#4A5565' />
                            <path
                                d='M4.56345 6.93507C4.40507 6.54886 4.11004 6.23449 3.73465 6.05193C3.35927 5.86938 2.92981 5.83142 2.52823 5.94531C2.12664 6.05921 1.78105 6.31697 1.5574 6.66941C1.33374 7.02186 1.24768 7.44431 1.31564 7.85617C1.38359 8.26802 1.60081 8.64043 1.92583 8.90234C2.25086 9.16426 2.66094 9.29733 3.07782 9.27618C3.4947 9.25502 3.88921 9.08112 4.18605 8.78764C4.48289 8.49417 4.66128 8.10168 4.6872 7.68507H6.6747C6.6747 7.65507 6.6747 7.62132 6.6747 7.59132C6.66728 7.37007 6.69255 7.14894 6.7497 6.93507H4.56345ZM2.9997 8.57757C2.81428 8.57757 2.63302 8.52258 2.47885 8.41957C2.32468 8.31656 2.20452 8.17014 2.13356 7.99883C2.0626 7.82753 2.04404 7.63903 2.08021 7.45717C2.11638 7.27531 2.20567 7.10827 2.33678 6.97715C2.4679 6.84604 2.63494 6.75675 2.8168 6.72058C2.99866 6.68441 3.18716 6.70297 3.35846 6.77393C3.52977 6.84489 3.67619 6.96505 3.7792 7.11922C3.88221 7.27339 3.9372 7.45465 3.9372 7.64007C3.9372 7.88871 3.83843 8.12716 3.66261 8.30298C3.48679 8.47879 3.24834 8.57757 2.9997 8.57757Z'
                                fill='#4A5565' />
                        </svg>
                        <span class="text">${car.transmission}</span>
                    </div>
                    <div class="detail-items">
                        <svg width='8' height='11' viewBox='0 0 8 11' fill='none' xmlns='http://www.w3.org/2000/svg'>
                            <path fill-rule='evenodd' clip-rule='evenodd'
                                d='M4 5C3.44767 5 3 4.55233 3 4C3 3.44767 3.44767 3 4 3C4.55233 3 5 3.44767 5 4C5 4.55233 4.55233 5 4 5ZM4 2.33333C3.07967 2.33333 2.33333 3.07933 2.33333 4C2.33333 4.92067 3.07967 5.66667 4 5.66667C4.92033 5.66667 5.66667 4.92067 5.66667 4C5.66667 3.07933 4.92033 2.33333 4 2.33333ZM4 9.66667C3.44567 9.66967 0.666667 5.39367 0.666667 4C0.666667 2.15933 2.159 0.666667 4 0.666667C5.841 0.666667 7.33333 2.15933 7.33333 4C7.33333 5.375 4.54567 9.66967 4 9.66667ZM4 0C1.791 0 0 1.791 0 4C0 5.67267 3.335 10.6703 4 10.6667C4.65467 10.6703 8 5.65 8 4C8 1.791 6.209 0 4 0Z'
                                fill='#4A5565' />
                        </svg>
                        <span class="text">${car.location}</span>
                    </div>
                </div>
            </a>
    `;
  });
}

getData();
// Gọi hàm chính